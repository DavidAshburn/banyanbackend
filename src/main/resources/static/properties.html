<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Properties</title>
</head>
<body onload="getProperties()">
    <ol id="propertylist" onload=""></ol>
    <a href="/newproperty.html">New Property</a>
    <button onclick="debug()">Push Me</button>

<script>
    async function getProperties() {
        let list = document.getElementById('propertylist');

        await fetch('/properties')
            .then((response) => response.json())
            .then((data) => {
                console.log(data);
                for(let item of data) {
                    let li = document.createElement('li');
                    li.innerText = item.address;
                    list.append(li);
                }
                console.log('fetched');
            });
    }
    function debug() {
        console.log('debug');
    }
</script>
</body>
</html>